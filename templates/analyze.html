<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href='../static/analyze.css'>  
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css">
    <title>CheckYourCompany</title>
</head>
<body>
    <div class='wrapper'>
        <div class='main'>
            <form action='/read' method='POST' enctype="multipart/form-data" style='padding: 3% 0 0%'>
                <div id="file-upload-filename"></div> 
                <input type='file' name='data_file' id='file-upload'>
                <label for='file-upload' class='button'><span>Upload .csv</span></label>
                <div id='button'>
                    <button class='button1' type="submit" value='Calculate'>
                    <i class="fas fa-angle-double-right fa-2x"></i></button>
                </div> 
                <p id='errorMsg' class='orange' style='padding: 1%;'>{{error}}</p>
            </form>            
        </div>
    </div>
    <script>
    var input = document.getElementById( 'file-upload' );
    var infoArea = document.getElementById( 'file-upload-filename' );

    input.addEventListener( 'change', showFileName );

    function showFileName( event ) {
        // the change event gives us the input it occurred in 
        var input = event.srcElement;
        // the input has an array of files in the `files` property, each one has a name that you can use. We're just using the name here.
        var fileName = input.files[0].name;
        // use fileName however fits your app best, i.e. add it into a div
        infoArea.textContent = fileName;
    }
    </script>
</body>
</html>
